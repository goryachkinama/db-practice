# Зоомагазин

Написать sql запросы взяв за основу [ER-диаграмму](../../demo/er_test3.md).


## Создание базы данных 
Ознакомиться с [материалом](https://github.com/goryachkinama/db-practice/blob/main/src/Lab0.md)

Написать запросы для создания
- Базы данных
- Все таблицы согласно ER-диаграмме
- Связи между таблицами через внешние ключи
- Индексы для улучшения производительности
- Представление для удобного просмотра заявок

Особенности реализации:
- Использовать IDENTITY(1,1) для автоинкремента первичных ключей
- Добавлены проверки (CHECK) для валидации данных
- Создать индексы на часто используемых полях
- Включить ограничения NOT NULL где это необходимо
- Добавить представление для удобства работы с данными
- Для создание первичного ключа и внешних ключей используйте [CONSTRAINT](https://github.com/goryachkinama/db-practice/blob/main/src/Lab0.md)

Создать индексы на идентификаторы и другие поля если нужно

пример: CREATE INDEX IX_RepairRequests_ClientId ON RepairRequests(client_id);

## Тестовые данные
Комплексные запросы для заполнения базы данных тестовыми данными, которые отражают реальные бизнес-процессы.

- Логически связаны между собой (клиенты создают заявки, сотрудники выполняют их и т.д.)
- Охватывают разные сценарии (разные статусы заявок, приоритеты, типы услуг)
- Включают реалистичные данные с адресами, телефонами, комментариями
- Содержат разнообразные отзывы с разными оценками
- Учитывают использование материалов в разных количествах


После выполнения скрипта вы получите полностью рабочую базу данных с тестовыми данными для демонстрации и тестирования функциональности системы учета клининговых услуг.


## Запросы

### 1. Базовые запросы для анализа данных
- 1.1. Все товары с информацией о категориях и поставщиках
- 1.2. Остатки товаров на складах
- 1.3. Продажи за период с детализацией


### 2. Аналитические запросы
- 2.3. Топ-5 самых продаваемых товаров
- 2.4. Клиенты с наибольшими покупками
- 2.5. Ежемесячная статистика продаж по категориям

### 3. Запросы для управления запасами
- 3.1. Товары, требующие пополнения (ниже минимального уровня)
- 3.2. Оборот товаров (приход vs расход)

### 4. Финансовые отчеты
- 4.1. Ежедневный отчет о продажах
- 4.2. Маржинальность по категориям

### 5. Запросы для бизнес-аналитики
- 5.1. Анализ клиентской базы
- 5.2. Эффективность поставщиков
- 5.3. Сегментация клиентов по частоте покупок

### 6. Специальные запросы для отчетности
- 6.1. Отчет по товарам с низкой оборачиваемостью
- 6.2. Кросс-продажи (какие товары покупают вместе)

### 7. Практические запросы для ежедневного использования
- 7.1. Сегодняшние продажи (для кассира)
- 7.2. Быстрый просмотр остатков по категориям

Эти тестовые запросы покрывают все основные аспекты работы зоомагазина: от ежедневных операций до стратегического анализа. Вы можете выполнять их в своей SQL-среде для тестирования базы данных и получения полезной бизнес-информации.
