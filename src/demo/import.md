# Импорт данных 

[Инструкция](Импорт.docx)

Заказчик системы предоставил файлы с данными (с пометкой import в ресурсах) для переноса в новую систему. 
Необходимо подготовить данные файлов для импорта и загрузить в разработанную базу данных.

Критерии проверки: необходимо проверить все ли данные импортированы, 
создать диаграмму БД для созданных таблиц, добавить первичные и внешние ключи.
Не забудьте сохранить диаграмму, иначе задание не считается до конца выполненным :)

[Практическое задание 1](import_test1.zip)

[Практическое задание 2](import_test2.zip)

[Практическое задание 3](Cleaning_import.xlsx)

[Практическое задание 4](Petshop_import.xlsx)

[Практическое задание 5](Cafe_import.xlsx)

[Практическое задание 6](import_test6.zip)

[Контрольная работа](import_ctrl.zip)

---

Памятка, на что обратить внимание при подготовке файлов для импорта:

1. Данные должны быть в одном формате (телефоны, даты, номер паспорта, пол и т.д), все тестовые подписи убраны

2. Даты должны быть в формате даты (не текст), чтобы в БД их можно было загрузить как Datetime. Иначе в БД вместо текстовых значений проставится NULL

4. Единицы изменения в числовых полях убраны (если требуется, то нужно привести к одной ед.изм.)

5. Проценты хранятся в виде десятичной дроби

6. Справочные таблицы (категории, типы, статусы) вынесены в отдельную таблицу, а на место старых значений подставлены ИД (они могут быть уже вынесены, но в основной таблице могут быть не заменены значения на ИД) с помощью функции ВПР

7. Убраны проблемы в начале/конце строки, сдвоенные пробелы, а так же невидимые спец.символы (показывается как пробел в конце строки, но им не является, поэтому удаляется через замену на пустую строку)

8. Если ИД в исходной таблице совпадают, то один из них нужно заменить своим

| ИД |	Название |
| --- |	--- |
| 456 |	Сахалин |
| 456	| Сызрань |

=>

| ИД |	Название |
| --- |	--- |
| 456 |	Сахалин |
| 457	| Сызрань |

7. Отсутствующие ИД нужно добавить

8. Связи м-м хранятся в столбце в виде "значение ключа (число), количество;". Их необходимо вынести в отдельную таблицу и преобразовать в строки

| ИД |	Товары |
| --- |	--- |
| 456 |	1, 30; 2, 5 |
| 457	| 1, 20; |
| 458	| 3, 120; |

=>

| ИД |	ИД Товара | Количество |
| --- |	--- |	--- |
| 456 |	1 | 30 |
| 456 | 2 | 5 |
| 457	| 1 | 20 |
| 458	| 3 | 120 |

9. В таблицах основных сущностей могут быть столбцы с текстовыми значениями категорий/типов/тегов/людей через запятую. Эти значения необходимо вынести в отдельную справочную таблицу  (если её ещё нет) и дополнительно создать ассоциативную таблицу, раскрывающую связь м-м

| ИД |	Категория |
| --- |	--- |
| 456 |	внутренний, пляжные |
| 457	| внутренний, экскурсионные |

=>

| ИД |	Категория |
| --- |	--- |
| 1 |	внутренний |
| 2	| пляжные |
| 3 | экскурсионные |

| ИД |	ИД Категории |
| --- |	--- |
| 456 |	1 |
| 456 |	2 |
| 457	| 1 |
| 457 |	3 |

